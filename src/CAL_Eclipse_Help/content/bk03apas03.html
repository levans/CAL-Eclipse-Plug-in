<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Formatting case expressions</title><link href="../eclipsehelp.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.71.1" name="generator"><link rel="start" href="index.html" title="CAL Development Guide"><link rel="up" href="bk03apa.html" title="Appendix&nbsp;A.&nbsp;CAL source formatting conventions"><link rel="prev" href="bk03apas02.html" title="Formatting if-then-else expressions"><link rel="next" href="bk03apas04.html" title="Formatting let expressions"><link rel="preface" href="bk01pr01.html" title="Overview"><link rel="chapter" href="bk01ch01.html" title="Chapter&nbsp;1.&nbsp;Installing the CAL Eclipse Plug-in"><link rel="chapter" href="bk01ch02.html" title="Chapter&nbsp;2.&nbsp;Setting up Eclipse for CAL"><link rel="chapter" href="bk01ch03.html" title="Chapter&nbsp;3.&nbsp;Tutorial: Hello World"><link rel="chapter" href="bk01ch04.html" title="Chapter&nbsp;4.&nbsp;Using the CAL Eclipse Plug-in"><link rel="article" href="bk02ar01.html" title="CAL for Haskell Programmers"><link rel="article" href="bk02ar02.html" title="Effective CAL"><link rel="chapter" href="Overview.html" title="Chapter&nbsp;1.&nbsp;Overview"><link rel="chapter" href="bk03ch02.html" title="Chapter&nbsp;2.&nbsp;Getting Started with CAL"><link rel="chapter" href="bk03ch03.html" title="Chapter&nbsp;3.&nbsp;Language Reference"><link rel="chapter" href="bk03ch04.html" title="Chapter&nbsp;4.&nbsp;Standard Library Reference"><link rel="appendix" href="bk03apa.html" title="Appendix&nbsp;A.&nbsp;CAL source formatting conventions"><link rel="appendix" href="bk03apb.html" title="Appendix&nbsp;B.&nbsp;Suggested reading"><link rel="appendix" href="bk03apc.html" title="Appendix&nbsp;C.&nbsp;Language keywords"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Formatting case expressions</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="bk03apas02.html">Prev</a>&nbsp;</td><th align="center" width="60%">Appendix&nbsp;A.&nbsp;CAL source formatting conventions</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="bk03apas04.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N25772"></a>Formatting case expressions</h2></div></div></div>
      

      <p>Here are some concrete examples of correctly-formatted case expressions.<div class="informalexample">
          <pre class="programlisting">equalsOrdering :: Ordering -&gt; Ordering -&gt; Boolean;
private equalsOrdering !x !y =
    case x of
    LT -&gt;
        case y of 
        LT -&gt; True;
        _ -&gt; False;
        ;
    EQ -&gt;
        case y of 
        EQ -&gt; True;
        _ -&gt; False;
        ;
    GT -&gt;
        case y of 
        GT -&gt; True;
        _ -&gt; False;
    ;</pre>
        </div><div class="informalexample">
          <pre class="programlisting">catMaybes :: [Maybe a] -&gt; [a];
public catMaybes ms =
    case ms of
    [] -&gt; [];
    x : xs -&gt;
        case x of
        Nothing -&gt; catMaybes xs;
        Just b  -&gt; b : catMaybes xs;
        ;
    ;</pre>
        </div></p>

      <p>The most important point in formatting cases is to make sure that the <code class="code">case</code>
      keyword aligns with its corresponding alternative patterns and its expression terminating
      semicolon (if needed). This greatly improves the readability of nested <code class="code">case</code>s, as
      in the <code class="function">catMaybes</code> example. It is very tempting to slightly abuse the
      minimal whitespace principle by aligning the arrows to improve clarity when the expressions
      following the pattern are short and thus kept on the same line as the arrows. Ex: the arrows
      following <code class="function">Nothing</code> and <code class="function">Just b</code> have been aligned
      vertically by inserting an extra space after <code class="function">Just b</code>. Although this isn't
      strictly correct, it is not frowned upon.</p>
    </div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="bk03apas02.html">Prev</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="bk03apa.html">Up</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="bk03apas04.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">Formatting if-then-else expressions&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;Formatting let expressions</td></tr></table></div></body></html>